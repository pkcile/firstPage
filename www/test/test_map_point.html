<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
        body,
        html {
            width: 100%;
            height: 100%;
            margin: 0;
            font-family: "微软雅黑";
        }

        #allmap {
            height: 500px;
            width: 100%;
            padding-top: 10px;
        }

        #r-result {
            width: 100%;
            font-size: 14px;
        }

        .gray-bg {
            background-color: #ffffff;
        }
    </style>
    <script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=4ZdIV1KFQG8EqpNgn0c2OYdrVIGQnMTH">
    </script>
    <script src="https://api.map.baidu.com/api?type=webgl&v=1.0&ak=4ZdIV1KFQG8EqpNgn0c2OYdrVIGQnMTH"></script>
    <title>城市名定位</title>
</head>

<body class="gray-bg">
    <div class="">
        <div class="row" style="padding:10px;">

            <div class="col-sm-12">
                经度:<input type="text" id="jd" style="width:100px; margin-right:10px;" />
                纬度:<input type="text" id="wd" style="width:100px; margin-right:10px;" /><input type="button" value="确认"
                    onclick="Determine()" />
                <textarea id="textTest" name="textarea" rows="5" cols="30" placeholder="Comment text." value="testestst"></textarea>
            </div>
        </div>

        <div class="row" style="padding:10px;">
            <div class="col-sm-12" id="allmap"></div>
        </div>

    </div>



</body>

</html>
<script type="text/javascript">
    var arrayLng = [];
    var arrayLat = [];

    var map = new BMap.Map("allmap");
    var point = new BMap.Point(116.038406, 28.687672);
    var marker = new BMap.Marker(point);
    map.centerAndZoom(point, 23);
    map.enableScrollWheelZoom(); // 启用滚轮放大缩小
    map.addOverlay(marker);
    //点击返回
    // var geoc = new BMap.Geocoder();
    map.addEventListener("click", function (e) {
        console.log(e.point);
        var pt = e.point;
        var input = document.getElementById('wd');
        var input2 = document.getElementById('jd');
        var textTest = document.getElementById('textTest');
        //返回坐标
        arrayLng.push(pt.lng);
        arrayLat.push(pt.lat);
        // input.value = pt.lng;
        // input2.value = pt.lat;
        // console.log(arrayLng + arrayLat + "\n");
        textTest.innerHTML += "[" +pt.lng + "," + pt.lat + "]" + ",\n";
    });

    map.addControl(new BMap.NavigationControl());
</script>