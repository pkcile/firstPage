<!DOCTYPE html>
<!-- 重要 -->
<html lang="zh">
<head>
    <title>Canvas tutorial</title>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <style type="text/css">
		body{
			width: 100%;
			margin: 0;
			padding: 0;
			background-color: #eee;
		}
        canvas {
			display: block;
			margin: 10px auto;
			border: none;
        }
		.centerButton{
			width: 100px;
			margin: 0 auto;
		}
		button{
			display: block;
			width: 80px;
			height: 60px;
			background-color: #ccc;
		}
		.floatButton01{
			position: relative;
			left: -90px;
            top: -60px;			
		}
		.floatButton02{
			position: relative;
			left: 90px;
			top: -120px;	
		}
    </style>
	<script type="text/javascript">
		window.onload= function(){
			function drawInitial(){//绘制线
				var canvas = document.getElementById("tutorial");
				if(!canvas.getContext) return;
				var ctx = canvas.getContext("2d");
				ctx.strokeStyle="#000000";
				//横线向下
				for(var i=0;i<=10;i++){
					ctx.lineWidth = 4;
					ctx.moveTo(0, 2+40*i);
					ctx.lineTo(404, 2+40*i);
					ctx.stroke();
				}
				//竖线向右
				for(var k=0;k<=10;k++){
					ctx.lineWidth = 4;
					ctx.moveTo(40*k+2, 0);
					ctx.lineTo(40*k+2, 404);
					ctx.stroke();
				}
			}
			function draw(arrX,arrY){//绘制方块
			    var canvas = document.getElementById('tutorial');
			    if(!canvas.getContext) return;
			    var ctx = canvas.getContext("2d");
			    ctx.fillStyle = "red";
			    //绘制矩形
				for(var i=0;i<arrX.length;i++){
					 ctx.fillRect (4+arrX[i]*40, 4+arrY[i]*40, 36, 36);
					//  ctx.fillRect (4+1*40, 4+1[i]*40, 36, 36);
					//  ctx.fillRect (4+1*40, 4+2*40, 36, 36);
					//  ctx.fillRect (4+1*40, 4+3*40, 36, 36);
				}
				
			}
			function clear01(){//清除方块
				var canvas = document.getElementById("tutorial");
				if(canvas.getContext){
					var ctx = canvas.getContext("2d");
			   		ctx.fillStyle = "#eee";
			    	//绘制矩形
					for(var i=0;i<arrX.length;i++){
					 ctx.fillRect (4+arrX[i]*40, 4+arrY[i]*40, 36, 36);
				}
				}
			}
			function border(){
				for(var i=0;i<arrX.length;i++){
					if(arrX[i]<0||arrX[i]>=10||arrY[i]<0||arrY[i]>=10){
						alert("你已经死亡");
						return;
					}
				}
			}
			//初始状态
			var arrX = new Array();
			var arrY = new Array();
			arrX[0]= 0;
			arrY[0] = 0;    
			draw(arrX,arrY);
			drawInitial()
			// 按钮事件
			var btn01 = document.getElementById("up");
			var btn02 = document.getElementById("down");
			var btn03 = document.getElementById("left");
			var btn04 = document.getElementById("right");
			// 按钮事件
			btn01.onclick = function(){
				clear01();
				if(arrX.length>1){
					for(var i=arrX.lengh;i>0;i--){
						arrX[i+1]=arrX[i];
						arrY[i+1]=arrY[i];
					}
					
				}
				arrY[0]+=-1;
				border();
				draw(arrX,arrY);
				// document.write("12324");
				
			}
			btn02.onclick = function(){
				clear01();
				if(arrX.length>1){
					for(var i=arrX.lengh;i>0;i--){
						arrX[i+1]=arrX[i];
						arrY[i+1]=arrY[i];
					}
				
				}
				arrY[0]+=1;
				border();
				draw(arrX,arrY);
			}
			btn03.onclick = function(){
				clear01();
				if(arrX.length>1){
					for(var i=arrX.lengh;i>0;i--){
						arrX[i+1]=arrX[i];
						arrY[i+1]=arrY[i];
					}
	
				}
				arrX[0]+=-1;
				border();
				draw(arrX,arrY);
			}
			btn04.onclick = function(){
				clear01();
				if(arrX.length>1){
					for(var i=arrX.lengh;i>0;i--){
						arrX[i+1]=arrX[i];
						arrY[i+1]=arrY[i];
					}
	
				}
				// x=x+1X0;
			arrX[0]+=1;
			border();
			draw(arrX,arrY);
			}
		}
	</script>
</head>
<body>
<canvas id="tutorial"  width="404px" height="404px"></canvas>
<div class="centerButton">
	<button id="up">上</button>
	<button id="down">下</button>
	<!-- <div class="floatButton"> -->
		<button id="left" class="floatButton01">左</button>
		<button id="right" class="floatButton02">右</button>
	<!-- </div> -->
	
</div>

<script type="text/javascript">
   
</script>
</body>
</html>


